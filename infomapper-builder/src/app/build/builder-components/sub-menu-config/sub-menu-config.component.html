<p class="help-string">
  All fields marked with an asterisk ( <span class="required-asterisk">*</span> ) are required.
</p>
            
<form [formGroup]="appBuilderForm">

  <div formGroupName="subMenuFG">
    <div class="config-form-fields-container">

      <div class="form-container">
        <div class="form-title">
          Name<span class="required-asterisk">*</span>
        </div>
        <mat-form-field appearance="outline">
          <input matInput formControlName="name" placeholder="About the Project"
          (keyup)="titleInput()">

          <mat-error>
            <ng-container *ngFor="let error of formErrors(appBuilderForm.get('subMenuFG.name'))">
              {{ formErrorMessages[error] }} <br>
            </ng-container>
          </mat-error>
        </mat-form-field>

        <mat-card class="form-description">
          Unique name to be used internally and displayed on the menu.
        </mat-card>
      </div>

      <div class="form-container">
        <div class="form-title">
          Description<span class="required-asterisk">*</span>
        </div>
        <mat-form-field appearance="outline">
          <textarea matInput formControlName="description"
          placeholder="This menu is used for...">
          </textarea>

          <mat-error>
            <ng-container *ngFor="let error of formErrors(appBuilderForm.get('subMenuFG.description'))">
              {{ formErrorMessages[error] }} <br>
            </ng-container>
          </mat-error>
        </mat-form-field>

        <mat-card class="form-description">
          A simple explanation of what this SubMenu does in the application.
        </mat-card>
      </div>

      <div class="form-container">
        <div class="form-title">Action</div>
        <mat-form-field appearance="outline">
          <mat-select formControlName="action" (selectionChange)="handleActionControlChoice($event)">
            <mat-option value="">None</mat-option>
            <mat-option value="contentPage">contentPage</mat-option>
            <mat-option value="dashboard">dashboard</mat-option>
            <mat-option value="displayMap">displayMap</mat-option>
            <mat-option value="externalLink">externalLink</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-card class="form-description">
          The action to take when the SubMenu item is clicked.
        </mat-card>
      </div>

      <ng-container *ngIf="appBuilderForm.get('subMenuFG.action').value !== ''">
        <div class="form-container">
          <div class="form-title">
            {{ appBuilderForm.get('subMenuFG.action').value | convertFormName : 'title' }}
            <span class="required-asterisk">*</span>
          </div>
          <mat-form-field appearance="outline">
            <input matInput
            formControlName="{{ appBuilderForm.get('subMenuFG.action').value | convertFormName : 'property' }}"
            placeholder="Path or URL">

            <mat-error>
              <ng-container *ngFor="let error of formErrors(appBuilderForm.get('subMenuFG.action').value)">
                {{ formErrorMessages[error] }} <br>
              </ng-container>
            </mat-error>
          </mat-form-field>
  
          <mat-card class="form-description">
            {{ appBuilderForm.get('subMenuFG.action').value | convertFormName : 'description' }}
          </mat-card>
        </div>
      </ng-container>
      

      <div class="form-container">
        <div class="form-title">Enabled</div>
        <mat-form-field appearance="outline">
          <mat-select formControlName="enabled">
            <mat-option value="True">True</mat-option>
            <mat-option value="False">False</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-card class="form-description">
          Whether or not the Main Menu is enabled. Disabled menus will be greyed
          out and won't be selectable.
        </mat-card>
      </div>

      <div class="form-container">
        <div class="form-title">Double separator before menu</div>
        <mat-form-field appearance="outline">
          <mat-select formControlName="doubleSeparatorBefore">
            <mat-option value="True">True</mat-option>
            <mat-option value="False">False</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-card class="form-description">
          Whether or not double separator lines (2 lines) should be drawn above
          the SubMenu item to group SubMenu items.
        </mat-card>
      </div>

      <div class="form-container">
        <div class="form-title">Separator before menu</div>
        <mat-form-field appearance="outline">
          <mat-select formControlName="separatorBefore">
            <mat-option value="True">True</mat-option>
            <mat-option value="False">False</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-card class="form-description">
          Whether or not a separator line should be drawn above the SubMenu item
          to group SubMenu items.
        </mat-card>
      </div>

      <div class="form-container">
        <div class="form-title">Visible</div>

        <mat-form-field appearance="outline">
          <mat-select formControlName="visible">
            <mat-option value="True">True</mat-option>
            <mat-option value="False">False</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-card class="form-description">
          Whether or not the Main Menu is visible. Non-visible menus will not be
          created and shown in the navbar.
        </mat-card>
      </div>

    </div>
  </div>
  
</form>
