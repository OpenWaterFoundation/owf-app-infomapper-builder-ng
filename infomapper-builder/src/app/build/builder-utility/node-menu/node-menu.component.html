<button mat-icon-button [matMenuTriggerFor]="nodeMenu" class="node-icon-button"
data-cy="NEEDS-TO-BE-UPDATED">
  <fa-icon class="fa-icon" [icon]=faEllipsisVertical size="xl"></fa-icon>
</button>
<mat-menu #nodeMenu="matMenu">
  <button mat-menu-item (click)="sendMenuChoice(node, 'editConfig')"
  data-cy="NEEDS-TO-BE-UPDATED">
    Edit configuration
  </button>

  <ng-container *ngIf="node.level === 'Application'">
    <button mat-menu-item (click)="sendMenuChoice(node, 'addMainMenu')"
    data-cy="">
      Add Main Menu
    </button>

    <button mat-menu-item data-cy="">
      Add Datastore
    </button>
  </ng-container>

  <ng-container *ngIf="node.level === 'Main Menu'">
    <button mat-menu-item (click)="sendMenuChoice(node, 'addSubMenu')"
    data-cy="">
      Add SubMenu
    </button>
  </ng-container>
  
  <ng-container *ngIf="node.level !== 'Application'">
    <mat-divider></mat-divider>
    <mat-divider></mat-divider>
    <mat-divider></mat-divider>

    <button mat-menu-item (click)="sendMenuChoice(node, 'deleteConfig')"
    data-cy="NEEDS-TO-BE-UPDATED">
      Delete {{ node.level }}
    </button>
  </ng-container>

</mat-menu>