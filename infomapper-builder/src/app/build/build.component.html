<div *ngIf="validBuildID === true;" fxLayout="row" fxLayoutAlign="center"
class="main-container">
  <div fxFlex="75%" fxFlex.lt-md="100%" fxFlex.gt-lg="50%" class="build-container">

    <mat-tree [dataSource]="treeDataSource" [treeControl]="treeControl" class="example-tree">
      <!-- Tree node template for leaf nodes with no children. -->
      <mat-tree-node *matTreeNodeDef="let node" matTreeNodeToggle>
        <div class="tree-node-header">
          <span class="tree-node-name">{{node.name}}</span>
          <button mat-button (click)="addMainMenuToApp()" class="tree-node-add-node-button">Add something...</button>
        </div>

        <!-- APP CONFIG -->
        <div *ngIf="node.name === 'Application configuration'" class="example-tree-visible">
          <div class="app-config-form-container">
            <app-config [appBuilderForm]="appBuilderForm"></app-config>
          </div>
        </div>

        <!-- MAIN MENU -->
        <div *ngIf="node.name === 'Menu'" class="example-tree-visible">
          <div class="app-config-form-container">
            Menu created
          </div>
        </div>
      </mat-tree-node>
    
      <!-- Tree node template for expandable nodes (has children). -->
      <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
        <div class="mat-tree-node">
    
          <div class="tree-node-header">
            <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name">
              <fa-icon [icon]="treeControl.isExpanded(node) ? faChevronDown : faChevronRight"
              size="lg"></fa-icon>
            </button>

            <div>
              <span class="tree-node-name">{{node.name}}</span>
              <button mat-button (click)="addMainMenuToApp()" class="tree-node-add-node-button">Add something...</button>
            </div>
            
          </div>
          
          <!-- APP CONFIG -->
          <div *ngIf="node.name === 'Application configuration'" [class.example-tree-invisible]="!treeControl.isExpanded(node)"
          [class.example-tree-visible]="treeControl.isExpanded(node)">
            
            <div class="app-config-form-container">
              <app-config [appBuilderForm]="appBuilderForm"></app-config>
            </div>
          </div>

          <!-- MAIN MENU -->
          <div *ngIf="node.name === 'Menu'" [class.example-tree-invisible]="!treeControl.isExpanded(node)"
          [class.example-tree-visible]="treeControl.isExpanded(node)">
            
            <div class="app-config-form-container">
              Menu created
            </div>
          </div>
          
        </div>
    
        <div [class.example-tree-invisible]="!treeControl.isExpanded(node)" role="group">
          <ng-container matTreeNodeOutlet></ng-container>
        </div>
      </mat-nested-tree-node>
    </mat-tree>
    
  </div>
</div>