<ng-container *ngIf="validBuildID === true;">

  <nav class="build-nav">
    <div fxHide.gt-md class="mobile-build-nav-container">

      <button mat-raised-button [matMenuTriggerFor]="nodeMenu" class="mobile-build-nav-button"
      data-cy="NEEDS-TO-BE-UPDATED">
        Build Options
      </button>

      <mat-menu #nodeMenu="matMenu">
        <button mat-button (click)="printFinalBuilderObject()">
          TEST: Print to console
        </button>
        <button mat-menu-item
        data-cy="NEEDS-TO-BE-UPDATED">
          Publish to GitHub
        </button>
        <button mat-menu-item
        data-cy="">
          Publish to preview
        </button>
        <button mat-menu-item data-cy="">
          Publish to AWS
        </button>
      </mat-menu>

    </div>
  
    <div fxFlex fxLayout fxLayoutAlign="start" fxHide.lt-lg>
      <div fxLayout fxLayoutGap="1px" class="build-nav-container">
  
        <mat-nav-list>
          <button mat-flat-button (click)="printFinalBuilderObject()">
            TEST: Print to console
          </button>
          <button mat-flat-button>Publish to GitHub</button>
          <button mat-flat-button>Publish to preview</button>
          <button mat-flat-button>Publish to AWS</button>
        </mat-nav-list>
  
      </div>
    </div>
  </nav>

  <div fxLayout="row" fxLayoutAlign="center" class="main-container">
    <div fxFlex="75%" fxFlex.lt-md="100%" fxFlex.gt-lg="50%" class="build-container">
  
      <mat-tree #treeSelector [dataSource]="treeDataSource" [treeControl]="treeControl"
      class="build-tree">
        <!-- Tree node template for leaf nodes with no children. -->
        <mat-tree-node *matTreeNodeDef="let node">
          <div class="tree-node-header">
            <span class="node-name"><b>{{ node.level }}:</b> {{ node.name }}</span>
            <node-menu [node]="node" (menuChoice)="receiveMenuChoice($event)"></node-menu>
          </div>
        </mat-tree-node>
  
          <!-- Tree node template for expandable nodes (has children). -->
          <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
            <div class="mat-tree-node">
  
              <div class="tree-node-header">
                <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name">
                  <fa-icon [icon]="treeControl.isExpanded(node) ? faChevronDown : faChevronRight" size="lg"></fa-icon>
                </button>
  
                <div>
                  <span class="node-name"><b>{{ node.level }}:</b> {{ node.name }}</span>
                  <node-menu [node]="node" (menuChoice)="receiveMenuChoice($event)"></node-menu>
                </div>
              </div>
            </div>
  
            <div [class.build-tree-invisible]="!treeControl.isExpanded(node)" role="group">
              <ng-container matTreeNodeOutlet></ng-container>
            </div>
          </mat-nested-tree-node>
      </mat-tree>

    </div>
  </div>

</ng-container>

